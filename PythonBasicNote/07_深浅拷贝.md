# 1、浅拷贝

- 直接使用=赋值，两个列表指向同一块地址

  ```python
  In [1]: l1 = [1,2,3]
  
  In [2]: l2 = l1
  
  In [3]: id(l1) == id(l2)
  Out[3]: True
  ```

- 使用切片赋值，为浅拷贝

  ```python
  In [4]: l3 = l1[:]
  
  In [5]: id(l1) == id(l3)
  Out[5]: False
  
  In [6]: l1 == l3
  Out[6]: True
  ```

  - 浅拷贝是将一个地址块的数据拷贝到另一个地址块去

- `list1.copy()`也是浅拷贝

  ```python
  In [7]: l4 = l1.copy()
  
  In [8]: id(l1) == id(l4)
  Out[8]: False
  
  In [9]: l1 == l4
  Out[9]: True
  ```

- 浅拷贝总结

  - 设原数据的地址为aabb，浅拷贝即为在内存里新划一块空间（如a1b2），		      

  -  将原来的数据拷贝到a1b2这块空间，但是aabb里的内容只拷贝最外面一层（有多层嵌套时）

    ```python
    In [19]: l1 = [[1,2,3], 4, 5]
    
    In [20]: l2 = l1.copy()
    
    In [21]: id(l1) == id(l2)
    Out[21]: False
    
    In [22]: id(l1[0]) == id(l2[0])
    Out[22]: True
    
    In [23]: l2[0][0] = 100
    
    In [24]: l1[0][0]
    Out[24]: 100
    ```

    - 可以看到l1和l2的地址是不同的，但是浅拷贝时列表里的内容是不会重新复制一份的
    - 浅拷贝时只是新划分了一个地址给列表变量l2，但是l2中装的不是数据，而是l1的数据的地址
    - 由于浅拷贝只拷贝最外层数据，所以在更改了l2的内层数据后，l1的内层数据也改变了（因为l2的内层数据实际上是l1内层数据的地址）

# 2、深拷贝

- 使用深拷贝时需要引入copy模块

- 方法`copy.deepcopy`为深拷贝

  ```python
  In [25]: import copy
  
  In [26]: l1 = [[1,2,3], [10,20,30]]
  
  In [27]: l2 = copy.deepcopy(l1)
  
  In [28]: id(l1) == id(l2)
  Out[28]: False
  
  In [29]: id(l1[0]) == id(l2[0])
  Out[29]: False
  ```

- 深拷贝总结：

  - 与浅拷贝的不同在于深拷贝是把被拷贝对象内部所有内容全部拷贝到另一块地址里去
  - 即新对象与原对象除了内容相同，除此之外两个对象之间无关联